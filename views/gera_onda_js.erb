var canvas = document.getElementById("canvas");
var context = canvas.getContext("2d");

context.line_width = 5;
context.strokeStyle = "#0000ff";
i = 0;
ys = <%=@ys.compact%>;
function desenhar_onda() {
  context.clearRect(0,0,canvas.width,canvas.height);
  var ys_de_agora = ys[i%ys.length]
  context.beginPath();
  for(var x = 0 ; x < ys_de_agora.length ; x++){
    context.moveTo(x,ys_de_agora[x] + canvas.height/2);
    context.lineTo(x+1,ys_de_agora[x+1] + canvas.height/2);
  }
  context.stroke();
  i++;
}

setInterval(desenhar_onda,<%=@delay%>);
